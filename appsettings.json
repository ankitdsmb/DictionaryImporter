{
  "ConnectionStrings": {
    "DictionaryImporter": "Server=DESKTOP-7GF8EBR\\SQLEXPRESS;Database=DictionaryImporter;Integrated Security=True;Encrypt=True;TrustServerCertificate=True;"
  },
  "Sources": {
    "GutenbergWebster": {
      "FilePath": "Data/GutenbergWebsterSource.txt"
    },
    "StructuredJson": {
      "FilePath": "Data/dictionary_1.json"
    },
    "EnglishChinese": {
      "FilePath": "Data/TheEnglishChineseDictionary.txt"
    },
    "Collins": {
      "FilePath": "Data/Collins.txt"
    },
    "Oxford": {
      "FilePath": "Data/Oxford.txt"
    },
    "Century21": {
      "FilePath": "Data/century21.txt"
    },
    "Kaikki": {
      "FilePath": "Data/kaikki.org-dictionary-English-words.jsonl",
      "Language": "en"
    }
  },
  "IPA": {
    "Sources": [
      {
        "Locale": "en-US",
        "FilePath": "Data/IPA/en_US.txt"
      },
      {
        "Locale": "en-UK",
        "FilePath": "Data/IPA/en_UK.txt"
      }
    ]
  },
  "Pipeline": {
    "Mode": "Full" //ImportOnly/Full
  },
  "OneTimeTasks": [
    "migrate-editorial-ipa",
    "promote-ipa-from-notes"
  ],
  "Grammar": {
    "Enabled": true,
    "MinDefinitionLength": 20,
    "DefaultLanguage": "en-US",
    "LanguageToolUrl": "http://localhost:2026",
    "HunspellDictionaryPath": "Dictionaries",
    "PatternRulesPath": "grammar-rules.json",
    "NTextCatProfilePath": "Core14.profile.xml",
    "GrammarNetApiKey": "",

    "SourceEnabled": {
      "GUT_WEBSTER": true,
      "ENG_COLLINS": true,
      "ENG_OXFORD": true,
      "ENG_CHN": true,
      "STRUCT_JSON": true,
      "CENTURY21": true
    },

    "SourceLanguages": {
      "GUT_WEBSTER": "en-US",
      "ENG_COLLINS": "en-GB",
      "ENG_OXFORD": "en-GB",
      "ENG_CHN": "en-US",
      "STRUCT_JSON": "en-US",
      "CENTURY21": "en-US"
    }
  },

  "EnhancedGrammar": {
    "Enabled": true,
    "PrimaryEngine": "LanguageTool",
    "BlendingStrategy": "ConfidenceWeighted",
    "LanguageToolUrl": "http://localhost:2026",
    "HunspellDictionaryPath": "Dictionaries",
    "CustomRulesPath": "grammar-rules.json",
    "NTextCatProfilePath": "Core14.profile.xml",
    "EnableTraining": true,
    "MinimumConfidenceThreshold": 70,
    "EngineWeights": {
      "LanguageTool": 0.85,
      "NHunspell": 0.95,
      "PatternRules": 0.90,
      "NTextCat": 0.80,
      "GrammarNet": 0.88
    }
  },

  "AI1": {
    "Client": {
      "MaxTokens": 500,
      "Temperature": 0.7,
      "MaxConcurrentRequests": 5,
      "RequestTimeoutSeconds": 30,
      "EnableCaching": true,
      "CacheDurationMinutes": 10,
      "MaxCacheSize": 100,
      "EnableAutomaticRetry": true,
      "MaxRetryAttempts": 3
    },
    "Orchestration": {
      "EnableFallback": true,
      "MaxFallbackAttempts": 3,
      "EnableCaching": true,
      "CacheDurationMinutes": 5,
      "EnablePerformanceTracking": true,
      "EnableHealthChecks": true,
      "HealthCheckIntervalMinutes": 5,
      "EnableRateLimiting": true,
      "MaxConcurrentRequests": 10
    },
    "Providers": {
      "OpenAI": {
        "ApiKey": "${OPENAI_API_KEY}",
        "Model": "gpt-3.5-turbo",
        "IsEnabled": true,
        "TimeoutSeconds": 30,
        "MaxRetries": 2
      },
      "Claude": {
        "ApiKey": "${ANTHROPIC_API_KEY}",
        "Model": "claude-3-haiku-20240307",
        "IsEnabled": true,
        "TimeoutSeconds": 30,
        "MaxRetries": 2
      },
      "Gemini": {
        "ApiKey": "${GOOGLE_AI_API_KEY}",
        "Model": "gemini-pro",
        "IsEnabled": true,
        "TimeoutSeconds": 30,
        "MaxRetries": 2
      },
      "Ollama": {
        "ApiKey": "",
        "BaseUrl": "http://localhost:11434",
        "Model": "llama2",
        "IsEnabled": true,
        "TimeoutSeconds": 120,
        "MaxRetries": 1
      }
    }
  },

  "Database": {
    "ConnectionString": "Server=localhost;Database=DictionaryImporterAI;Integrated Security=true;TrustServerCertificate=true;",
    "CommandTimeoutSeconds": 30,
    "MaxPoolSize": 100,
    "EnableRetryOnFailure": true,
    "MaxRetryCount": 3,
    "RetryDelaySeconds": 1
  },

  "Cache": {
    "Type": "Memory",
    "ConnectionString": "",
    "DefaultExpirationMinutes": 60,
    "MaxCacheSizeMB": 100,
    "EnableCompression": true
  },

  "Telemetry": {
    "EnableTelemetry": true,
    "Provider": "ApplicationInsights",
    "ConnectionString": "InstrumentationKey=${APPINSIGHTS_INSTRUMENTATIONKEY}",
    "MetricsExportIntervalSeconds": 30,
    "LogLevel": "Information",
    "EnableRequestTracking": true,
    "EnableDependencyTracking": true,
    "EnablePerformanceCounters": true
  },

  "Security": {
    "EnableApiKeyRotation": false,
    "ApiKeyRotationDays": 30,
    "KeyVaultUrl": "",
    "EnableContentValidation": true,
    "BlockedPatterns": [
      "(?i)(password|secret|key)\\s*[:=]",
      "\\b\\d{3}[-.]?\\d{3}[-.]?\\d{4}\\b",
      "\\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Z|a-z]{2,}\\b"
    ],
    "EnableUserQuotas": true,
    "DefaultUserRequestsPerDay": 100,
    "DefaultUserTokensPerDay": 100000
  },

  "AI": {
    "Orchestration": {
      "EnableOrchestration": true,
      "EnableFallback": true,
      "EnableCaching": true,
      "CacheDurationMinutes": 60,
      "EnableRateLimiting": true,
      "EnableQuotaManagement": true,
      "EnableAuditLogging": true,
      "EnableMetricsCollection": true,
      "MaxConcurrentRequests": 20,
      "DefaultTimeoutSeconds": 30,
      "HealthCheckIntervalSeconds": 60,
      "DefaultProvider": "OpenRouter",
      "FallbackOrder": [
        "OpenRouter",
        "Gemini",
        "Anthropic",
        "TogetherAI",
        "Cohere",
        "AI21",
        "TextCortex",
        "Perplexity",
        "NLPCloud",
        "HuggingFace",
        "DeepAI",
        "Watson",
        "AlephAlpha",
        "Replicate",
        "Ollama",
        "StabilityAI",
        "ElevenLabs",
        "AssemblyAI"
      ]
    },

    "Providers": {
      "OpenRouter": {
        "IsEnabled": true,
        "ApiKey": "${OPENROUTER_API_KEY}",
        "BaseUrl": "https://api.openrouter.ai/api/v1/chat/completions",
        "Model": "openai/gpt-3.5-turbo",
        "Priority": 1,
        "TimeoutSeconds": 30,
        "MaxRetries": 3,
        "CircuitBreakerFailuresBeforeBreaking": 5,
        "CircuitBreakerDurationSeconds": 30,
        "EnableCaching": true,
        "CacheDurationMinutes": 60,
        "EnableRateLimiting": true,
        "RequestsPerMinute": 60,
        "RequestsPerDay": 1000,
        "TokensPerMinute": 90000,
        "TokensPerDay": 1000000,
        "CostLimitPerDay": 10.00,
        "Capabilities": {
          "TextCompletion": true,
          "ChatCompletion": true,
          "SupportedLanguages": [ "en", "es", "fr", "de", "it", "ja", "ko", "zh" ],
          "MaxTokensLimit": 4096
        },
        "AdditionalSettings": {
          "max_tokens": 2048,
          "temperature": 0.7,
          "top_p": 0.9
        }
      },

      "Gemini": {
        "IsEnabled": true,
        "ApiKey": "${GEMINI_API_KEY}",
        "BaseUrl": "https://generativelanguage.googleapis.com/v1beta/models/{model}:generateContent",
        "Model": "gemini-pro",
        "Priority": 2,
        "TimeoutSeconds": 30,
        "MaxRetries": 3,
        "EnableCaching": true,
        "CacheDurationMinutes": 60,
        "EnableRateLimiting": true,
        "RequestsPerMinute": 60,
        "RequestsPerDay": 1000,
        "Capabilities": {
          "TextCompletion": true,
          "ChatCompletion": true,
          "ImageAnalysis": true,
          "SupportedLanguages": [ "en", "es", "fr", "de", "it", "ja", "ko", "zh" ],
          "MaxTokensLimit": 32768
        }
      },

      "Anthropic": {
        "IsEnabled": true,
        "ApiKey": "${ANTHROPIC_API_KEY}",
        "BaseUrl": "https://api.anthropic.com/v1/messages",
        "Model": "claude-3-haiku-20240307",
        "Priority": 3,
        "TimeoutSeconds": 30,
        "MaxRetries": 3,
        "EnableCaching": true,
        "CacheDurationMinutes": 60,
        "EnableRateLimiting": true,
        "RequestsPerMinute": 60,
        "RequestsPerDay": 1000,
        "Capabilities": {
          "TextCompletion": true,
          "ChatCompletion": true,
          "ImageAnalysis": true,
          "SupportedLanguages": [ "en" ],
          "MaxTokensLimit": 4096
        }
      }
    }
  },

  "AllowedHosts": "*",
  "Serilog": {
    "Using": [ "Serilog.Sinks.ApplicationInsights" ],
    "MinimumLevel": {
      "Default": "Information",
      "Override": {
        "Microsoft": "Warning",
        "System": "Warning"
      }
    },
    "WriteTo": [
      {
        "Name": "ApplicationInsights",
        "Args": {
          "connectionString": "${APPINSIGHTS_CONNECTIONSTRING}",
          "telemetryConverter": "Serilog.Sinks.ApplicationInsights.TelemetryConverters.TraceTelemetryConverter, Serilog.Sinks.ApplicationInsights"
        }
      },
      {
        "Name": "Console",
        "Args": {
          "theme": "Serilog.Sinks.SystemConsole.Themes.AnsiConsoleTheme::Code, Serilog.Sinks.Console",
          "outputTemplate": "[{Timestamp:HH:mm:ss} {Level:u3}] {Message:lj} {Properties:j}{NewLine}{Exception}"
        }
      }
    ],
    "Enrich": [ "FromLogContext", "WithMachineName", "WithThreadId" ],
    "Properties": {
      "Application": "DictionaryImporter.AI"
    }
  }
}